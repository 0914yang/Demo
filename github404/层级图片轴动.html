<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>层级图片轴动</title>
    <style>
        body, html { 
            margin: 0; 
            padding: 0;
        }
        .bannerWrap { 
            position: relative; 
            margin: 0 auto;
            width: 100%; 
            height: 350px; 
            background-color: #F0E262; 
            overflow: hidden;
        }
        .bannerWrap img{ 
            display: block; 
            position: absolute;
        }
    </style>
    <script src="jq.js"></script>
</head>
<body>
    <div class="bannerWrap" id="bannerWrap">
        <img src="house2.png" class="small_house" id="small_house" />
        <img src="house1.png" class="house" id="house" />
        <img src="fish.png" class="fish" id="fish" />
        <img src="404.png" class="info" id="info" />
    </div>


    <script>
        $(function() {
            var win_w, win_h, b_w, b_h,
                small_house, house, fish, info, pToW_w, pToW_h, $img,
                temp_p_l, temp_p_t;

            var $banner = $("#bannerWrap");
            var picArray = {
                small_house : { l: 200, t: -140, s: 0.09, isFont: false },  //smallhouse的参数
                house : { l: 70, t: -130, s: 0.05, isFront: false },  //house的参数
                fish : { l: -160, t: -90, s: 0.02, isFront: true },  //fish的参数
                info : { l: -410, t: -110, s: 0.03, isFront: true }  //info的参数
            };

            var resetImg = function() {
                b_w = $banner.width();
                b_h = $banner.height();
                win_w = $(window).width();
                win_h = $(window).height();
                pToW_w = b_w/win_w;
                pToW_h = b_h/win_h;

                $.each( picArray, function(i, id) {
                    $img = $("#" + i);
                    temp_p_l = pToW_w * win_w/2 * id.s;
                    temp_p_t = pToW_h * win_h/2 * id.s;
                    if(id.isFront == true) {
                        $img.css({ "top": b_h/2 + temp_p_t + id.t , "left": b_w/2 + temp_p_l + id.l});
                    } else {
                        $img.css({ "top": b_h/2 - temp_p_t + id.t , "left": b_w/2 - temp_p_l + id.l});
                    }
                })
            };
            resetImg();

            var changePst = function( pageX, pageY ) {
                $.each( picArray, function(i, id){
                    $img = $("#" + i);
                    temp_p_l = pToW_w * pageX * id.s;
                    temp_p_t = pToW_h * pageY * id.s;
                    if(id.isFront == true) {
                        $img.css({ "top": b_h/2 + temp_p_t + id.t , "left": b_w/2 + temp_p_l + id.l});
                    } else {
                        $img.css({ "top": b_h/2 - temp_p_t + id.t , "left": b_w/2 - temp_p_l + id.l});
                    }
                })
            }
            $("body,html").mousemove(function(e){
                changePst(e.pageX, e.pageY);
            })
        })
    </script>
</body>
</html>